---
title: Spring 学习笔记（一）
date: {{ date }}
permalink: Spring learn note
categories: Spring
tags: [Spring,Java]
description: Spring框架学习总结
image:
---
<p class="description"></p>
## Spring 是什么
> Spring 是一种低侵入性、高扩展的 Java 框架，通过 IoC(Invension of Control) 和 AOP （Aspect Oriented Programming） 实现对Java Bean 的管理 和 功能扩展。
>  IoC 顾名思义 控制反转，，Spring 使得 JavaBean 由业务代码管理改为Spring 容器来管理控制，减轻代码的耦合度和复杂度。IoC 的实现方式是通过 DI （Dependency Injection） 依赖注入  ，即 IoC 和 DI 其实是一个意思，DI 是 一种古老时新的设计模式，计算机的 USB 就是这么设计的，你插入 USB  的东西，计算机事先是不知道的，直到有东西接入，依赖关系才开始建立，接入时，容器（电脑系统） 将依赖关系（电脑依赖 USB 设备进行数据存取）注入到 文件访问组件去，实现文件的读写
>  DI 即Spring 容器管理 JavaBean ，实现 Bean 的 创建，初始化和销毁方法， 依赖关系及属性值设置的管理
> 为实现，依赖控制， Spring 使用 反射调用 （Reflection）机制来 避免硬编码

## Spring 的核心组件
** Bean wapper **
> 通过 Reflection，在运行期，由 Spring 配置文件，将其他对象的引用通过组件提供的 setter 进行设置 
``` Java
# Java Reflection 动态设置对象属性
Class cls = Class.forName("com.sjt.user");
Method mtd = cls.getMethod("setName",new Class[] {String.class});
Object obj = (Object)cls.newInstance();
mtd.invoke(obj,new Object[]{"dj"});
return obj;
```

``` Java
# Spring BeanWrapper 操作 JavaBean （和上面原理一样，更具通用性）
Object obj = Class.forName("com.sjt.user").newInstance();

BeanWrapper bw = new BeanWrapperImpl(obj);
bw.setPropertyValue("name", "dj");
System.out.println("User name=>" + bw.getPropertyValue("name");
```
** Bean Factory **
>  根据配置文件创建并维护 Bean 实例
> Bean 属性值、依赖关系、创建模式（ Singleton ）、初始化和销毁
```Java
# 
<bean id = "Action" class = "com.sjt.TestAction" singleton = "true" init-method = "init" destroy-method = "cleanup" depends-on = "ActionManager">
```

